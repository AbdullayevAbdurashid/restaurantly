(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{476:function(e,t,a){"use strict";var n=a(1),i=a(7),r=a(0),c=(a(17),a(16)),o=a(21),s=a(97),l=a(262),d=a(27),u=r.forwardRef((function(e,t){var a=e.edge,o=void 0!==a&&a,s=e.children,u=e.classes,b=e.className,m=e.color,h=void 0===m?"default":m,p=e.disabled,j=void 0!==p&&p,x=e.disableFocusRipple,f=void 0!==x&&x,O=e.size,g=void 0===O?"medium":O,v=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return r.createElement(l.a,Object(n.a)({className:Object(c.a)(u.root,b,"default"!==h&&u["color".concat(Object(d.a)(h))],j&&u.disabled,"small"===g&&u["size".concat(Object(d.a)(g))],{start:u.edgeStart,end:u.edgeEnd}[o]),centerRipple:!0,focusRipple:!f,disabled:j,ref:t},v),r.createElement("span",{className:u.label},s))}));t.a=Object(o.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(s.a)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(u)},477:function(e,t,a){"use strict";var n=a(78),i=a(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),c=(0,n(a(80)).default)(r.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.default=c},478:function(e,t,a){"use strict";var n=a(78),i=a(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),c=(0,n(a(80)).default)(r.createElement("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");t.default=c},486:function(e,t,a){"use strict";a.r(t);var n=a(130),i=a(131),r=a(39),c=a.n(r),o=a(73),s=a(22),l=a(0),d=a.n(l),u=a(53),b=a.n(u),m=a(16),h=a(261),p=a(475),j=a(435),x=a(122),f=a(431),O=a(426),g=a(428),v=a(429),w=a(1),y=a(4),k=a(7),N=(a(17),a(437)),E=a(21),z=a(48),S=a(50),C=a(74),R=a(31),H=l.forwardRef((function(e,t){var a=e.children,n=e.classes,i=e.className,r=e.collapsedHeight,c=e.collapsedSize,o=void 0===c?"0px":c,s=e.component,d=void 0===s?"div":s,u=e.disableStrictModeCompat,b=void 0!==u&&u,h=e.in,p=e.onEnter,j=e.onEntered,x=e.onEntering,f=e.onExit,O=e.onExited,g=e.onExiting,v=e.style,E=e.timeout,H=void 0===E?z.b.standard:E,D=e.TransitionComponent,M=void 0===D?N.a:D,T=Object(k.a)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),A=Object(C.a)(),I=l.useRef(),L=l.useRef(null),q=l.useRef(),P="number"===typeof(r||o)?"".concat(r||o,"px"):r||o;l.useEffect((function(){return function(){clearTimeout(I.current)}}),[]);var _=A.unstable_strictMode&&!b,B=l.useRef(null),J=Object(R.a)(t,_?B:void 0),W=function(e){return function(t,a){if(e){var n=_?[B.current,t]:[t,a],i=Object(y.a)(n,2),r=i[0],c=i[1];void 0===c?e(r):e(r,c)}}},Y=W((function(e,t){e.style.height=P,p&&p(e,t)})),$=W((function(e,t){var a=L.current?L.current.clientHeight:0,n=Object(S.a)({style:v,timeout:H},{mode:"enter"}).duration;if("auto"===H){var i=A.transitions.getAutoHeightDuration(a);e.style.transitionDuration="".concat(i,"ms"),q.current=i}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height="".concat(a,"px"),x&&x(e,t)})),F=W((function(e,t){e.style.height="auto",j&&j(e,t)})),V=W((function(e){var t=L.current?L.current.clientHeight:0;e.style.height="".concat(t,"px"),f&&f(e)})),Z=W(O),K=W((function(e){var t=L.current?L.current.clientHeight:0,a=Object(S.a)({style:v,timeout:H},{mode:"exit"}).duration;if("auto"===H){var n=A.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(n,"ms"),q.current=n}else e.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");e.style.height=P,g&&g(e)}));return l.createElement(M,Object(w.a)({in:h,onEnter:Y,onEntered:F,onEntering:$,onExit:V,onExited:Z,onExiting:K,addEndListener:function(e,t){var a=_?e:t;"auto"===H&&(I.current=setTimeout(a,q.current||0))},nodeRef:_?B:void 0,timeout:"auto"===H?null:H},T),(function(e,t){return l.createElement(d,Object(w.a)({className:Object(m.a)(n.root,n.container,i,{entered:n.entered,exited:!h&&"0px"===P&&n.hidden}[e]),style:Object(w.a)({minHeight:P},v),ref:J},t),l.createElement("div",{className:n.wrapper,ref:L},l.createElement("div",{className:n.wrapperInner},a)))}))}));H.muiSupportAuto=!0;var D=Object(E.a)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(H),M=a(477),T=a.n(M),A=a(476),I=a(430),L=a(469),q=a(470),P=a(424),_=a(478),B=a.n(_),J=a(199),W=a.p+"static/media/back.39f25b08.jpg",Y=a(425),$=a(47),F=a(235),V=a.n(F),Z=a(30),K=a(103),G=a.p+"static/media/neworder.b3bc44c8.mp3",Q=a.p+"static/media/complete.7cfd4944.mp3",U=a.p+"static/media/waitercalling.9e89d866.mp3",X=a(6),ee=h.a.TabPane,te=Object(L.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",marginBottom:"5px",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),ae=Object(E.a)((function(e){return{badge:{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(q.a);t.default=function(){var e=Object(J.b)().user,t=Object(l.useContext)($.b),a=Object(s.a)(t,2),r=a[0],u=a[1],w=Object(l.useState)([]),y=Object(s.a)(w,2),k=y[0],N=y[1],E=Object(l.useState)([]),z=Object(s.a)(E,2),S=z[0],C=z[1],R=Object(l.useState)(!1),H=Object(s.a)(R,2),M=H[0],L=H[1],q=Object(l.useState)(!1),_=Object(s.a)(q,2),F=_[0],ne=_[1];Object(l.useEffect)((function(){u.on("recieve-order",(function(t){"none"===t?0===k.length&&(new Audio(G).play(),x.b.warning("Yangi zakaz tushdi")):t===e&&(new Audio(G).play(),V()({title:"Yangi zakaz",subtitle:"Yangi zakaz keldi iltimos tekshiring",theme:"darkblue",native:!0}),x.b.warning("Yangi zakaz keldi iltimos tekshiring"),Object(o.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(r,"/waiterOrders/").concat(e));case 2:a=t.sent,(n=a.data).reverse(),N(n);case 6:case"end":return t.stop()}}),t)})))()),Object(o.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(r,"/waiterOrders/new"));case 2:t=e.sent,(a=t.data).reverse(),C(a);case 6:case"end":return e.stop()}}),e)})))()})),u.on("take-order",(function(t){!function(t,a){a===e&&(new Audio(Q).play(),x.b.success("".concat(t,"chi stolni zakazi tayyor")),V()({title:"Zakaz tayyor",subtitle:"".concat(t,"chi stolni zakazi tayyor"),theme:"darkblue",native:!0}))}(t.table,t.responsibleWaiter)})),u.on("coming",(function(t){!function(t,a){if(a===e){V()({title:"Sizni chaqirishyapti",subtitle:"".concat(t,"- chi stol sizni chaqiryapti"),theme:"darkblue",native:!0}),new Audio(U).play(),p.a.info({title:"Sizni chaqirishyapti",content:Object(X.jsx)("div",{children:Object(X.jsxs)("p",{children:[t," - chi stol sizni chaqiryapti"]})}),onOk:function(){}});var n=setInterval((function(){new Audio(U).play()}),1e3);setTimeout((function(){clearInterval(n),u.emit("")}),3e3)}}(t.table,t.responsibleWaiter)})),Object(o.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(r,"/waiterOrders/new"));case 2:t=e.sent,(a=t.data).reverse(),C(a);case 6:case"end":return e.stop()}}),e)})))(),Object(o.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(r,"/waiterOrders/").concat(e));case 2:a=t.sent,(n=a.data).reverse(),N(n);case 6:case"end":return t.stop()}}),t)})))(),p.a.info({title:"Please accept cookies",content:Object(X.jsx)("div",{children:Object(X.jsx)("p",{children:"Accept cookies to send notification"})}),onOk:function(){}})}),[]);var ie=d.a.useState(!1),re=Object(s.a)(ie,2),ce=re[0],oe=re[1],se=te(),le=function(t){oe(!0),function(t){b.a.post("".concat(r,"/occupyOrder"),{table:t,name:e}).then((function(){b.a.get("".concat(r,"/waiterOrders/").concat(e)).then((function(e){var t=e.data;N(t)})),b.a.get("".concat(r,"/waiterOrders/new")).then((function(e){var t=e.data;C(t),he(!1),oe(!1)}))}))}(t)},de=function(e){he(Object(i.a)(Object(i.a)({},me),{},Object(n.a)({},e,!me[e])))},ue=Object(l.useState)(!1),be=Object(s.a)(ue,2),me=be[0],he=be[1];return"false"!==localStorage.getItem("details")&&localStorage.getItem("details")?Object(X.jsxs)("div",{style:{backgroundImage:"url(".concat(W,")"),marginBottom:"30px",backgroundRepeat:"no-repeat",backgroundSize:"cover"},className:" waiters min-h-screen",children:[Object(X.jsx)(f.a,{maxWidth:"md",className:" min-h-screen backdrop-filter  backdrop-blur-md",children:Object(X.jsx)("div",{className:"text-white bg-image   h-full",children:Object(X.jsxs)(h.a,{defaultActiveKey:"1",centered:!0,children:[Object(X.jsx)(ee,{className:"text-white ",tab:"Current orders",children:S&&S.map((function(e,t){return Object(X.jsx)(Y.a,{in:!0,children:Object(X.jsxs)(O.a,{className:"mb-4",children:[Object(X.jsxs)(g.a,{children:[Object(X.jsxs)("h1",{className:"text-yellow-500 text-xl font-bold",children:["ORDER #",S.length-t]}),Object(X.jsxs)("h3",{className:"text-green-400   text-sm font-bold ",children:[Number(e.time.split(":")[0])-(new Date).getHours()===0?(new Date).getMinutes()-Number(e.time.split(":")[1])+" min oldin":(new Date).getHours()-Number(e.time.split(":")[0])+" soat oldin","                                             "]}),Object(X.jsxs)("h2",{className:"absolute top-4 right-4  text-yellow-500 text-lg font-bold ",children:["Stol: ",e.table]}),Object(X.jsxs)("h3",{className:"text-white text-lg font-medium",children:["Jami taomlar:",S[t].foods.length]})]}),Object(X.jsxs)(v.a,{disableSpacing:!0,children:[Object(X.jsx)("h3",{className:"text-white text-lg font-medium",children:"Taomlar:"}),Object(X.jsxs)("span",{className:"inline-block",children:[Object(X.jsx)(A.a,{className:Object(m.a)(se.expand,Object(n.a)({},se.expandOpen,M[t]?M[t]:null)),onClick:function(){return function(e,t){L(Object(i.a)(Object(i.a)({},M),{},Object(n.a)({},e,!M[e])))}(t)},"aria-expanded":M,"aria-label":"show more",children:Object(X.jsx)(T.a,{className:"text-white  mb-1",fontSize:"large"})}),Object(X.jsx)(j.a,{title:"Tasdiqlaysizmi?",visible:me[t],onConfirm:function(){return le(e.table)},okButtonProps:{loading:ce},onCancel:function(){return de(t)},children:Object(X.jsx)(K.a.button,{whileTap:{scale:.9},onClick:function(){return de(t)},className:"w-24 absolute bottom-4 right-2 bg-gradient-to-r  d from-blue-700 h-10 rounded-xl  text-lg  focus:ring-offset-indigo-800 focus:border-transparent transit to-blue-800  text-white",type:"submit",children:"Olish \u2705"})})]})]}),Object(X.jsx)(D,{in:M[t]?M[t]:null,timeout:"auto",unmountOnExit:!0,children:S[t].foods.map((function(e,t){return Object(X.jsx)(g.a,{children:Object(X.jsxs)("div",{children:[Object(X.jsxs)("span",{children:[Object(X.jsx)("p",{className:" text-white text-xl  uppercase",children:e.name}),Object(X.jsx)(I.a,{style:{background:"white"}})]}),Object(X.jsx)("h2",{className:" text-yellow-400 text-xl",children:" 2x "})]},t)})}))})]})})}))},"1"),Object(X.jsx)(ee,{tab:Object(X.jsx)(ae,{showZero:!0,badgeContent:k.length,color:"secondary",children:Object(X.jsx)("h1",{className:"text-white pt-2  ",children:"My orders"})}),children:k&&k.map((function(e,t){return Object(X.jsx)(Y.a,{in:!0,children:Object(X.jsxs)(O.a,{className:"mb-4",children:[Object(X.jsxs)(g.a,{children:[Object(X.jsxs)("h1",{className:"text-yellow-500 text-xl font-bold",children:["ORDER #",k.length-t]}),Object(X.jsxs)("h3",{className:" text-green-400 text-sm font-bold ",children:[Number(e.time.split(":")[0])-(new Date).getHours()===0?(new Date).getMinutes()-Number(e.time.split(":")[1])+" min oldin":(new Date).getHours()-Number(e.time.split(":")[0])+" soat oldin","                                                                             "]}),Object(X.jsxs)("h2",{className:"absolute bottom-6 right-4  text-yellow-500 text-lg font-bold ",children:["Stol: ",e.table]}),Object(X.jsxs)("h3",{className:"text-white text-lg font-medium",children:["Jami taomlar:",k[t].foods.length]})]}),Object(X.jsxs)(v.a,{disableSpacing:!0,children:[Object(X.jsx)("h3",{className:"text-white text-lg font-medium",children:"Taomlar:"}),Object(X.jsx)("span",{className:"inline-block",children:Object(X.jsx)(A.a,{className:Object(m.a)(se.expand,Object(n.a)({},se.expandOpen,M[t]?M[t]:null)),onClick:function(){return function(e){ne(Object(i.a)(Object(i.a)({},F),{},Object(n.a)({},e,!F[e])))}(t)},"aria-expanded":M,"aria-label":"show more",children:Object(X.jsx)(T.a,{className:"text-white  mb-1",fontSize:"large"})})})]}),Object(X.jsx)(D,{in:F[t]?F[t]:null,timeout:"auto",unmountOnExit:!0,children:k[t].foods.map((function(e,t){return Object(X.jsx)(g.a,{children:Object(X.jsxs)("div",{children:[Object(X.jsxs)("span",{children:[Object(X.jsx)("p",{className:" text-white text-xl  uppercase",children:e.name}),Object(X.jsx)(I.a,{style:{background:"white"}})]}),Object(X.jsxs)("h2",{className:" text-yellow-400 text-xl",children:[" ",e.quantity,"x "]})]},t)})}))})]})})}))},"2")]})})}),Object(X.jsx)(P.a,{style:{position:"fixed",bottom:"30px",right:"5px"},color:"secondary","aria-label":"add",onClick:function(){localStorage.setItem("details","false"),window.location.reload()},children:Object(X.jsx)(B.a,{})})]}):Object(X.jsx)(Z.a,{to:"/login"})}}}]);
//# sourceMappingURL=3.873166c1.chunk.js.map