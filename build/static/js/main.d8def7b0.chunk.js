(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{199:function(e,t,_){"use strict";_.d(t,"a",(function(){return m})),_.d(t,"b",(function(){return x}));var a=_(22),n=_(0),r=_(30),i=_(39),c=_.n(i),s=_(73),o=_(53),l=_.n(o);function u(){return(u=Object(s.a)(c.a.mark((function e(t,_,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(),e.next=3,l.a.post("".concat(t.ip,"/login"),{session:t,password:_});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("/api/sessions");case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("details");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=_(47),O=_(6),p=Object(n.createContext)({user:null,loading:!1,error:null,login:function(e,t){},logout:function(){}});function m(e){var t=e.children,_=Object(n.useState)(),i=Object(a.a)(_,2),c=i[0],s=i[1],o=Object(n.useState)(),l=Object(a.a)(o,2),m=l[0],x=l[1],E=Object(n.useState)(!1),h=Object(a.a)(E,2),P=h[0],D=h[1],f=Object(n.useState)(!0),M=Object(a.a)(f,2),C=M[0],y=M[1],T=Object(n.useContext)(b.b),A=Object(a.a)(T,1)[0],g=Object(r.g)();function I(e,t){D(!0),function(e,t,_){return u.apply(this,arguments)}({email:e,password:t,ip:A}).then((function(e){localStorage.setItem("details",e.loginName),s(localStorage.getItem("details")),g.push("/waiter")})).catch((function(e){return x(e.message)})).finally((function(){D(!1)}))}function B(){(function(){return d.apply(this,arguments)})().then((function(){return s(void 0)}))}Object(n.useEffect)((function(){m&&x(null)}),[window.location.pathname]),Object(n.useEffect)((function(){(function(){return j.apply(this,arguments)})().then((function(e){return s("false"===e?null:localStorage.getItem("details"))})).catch((function(e){})).finally((function(){return y(!1)}))}),[]);var U=Object(n.useMemo)((function(){return{user:c,loading:P,error:m,login:I,logout:B}}),[c,P,m]);return Object(O.jsx)(p.Provider,{value:U,children:!C&&t})}function x(){return Object(n.useContext)(p)}},233:function(e,t,_){},239:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(257),C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(130),C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(131),C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(296),antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_5__),_material_ui_lab_Skeleton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(123),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(433),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(96),_placeholder_png__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(240),_content_css__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(297),_content_css__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_content_css__WEBPACK_IMPORTED_MODULE_10__),react_use_cart__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(62),_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(138),react_currency_format__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(57),react_currency_format__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_currency_format__WEBPACK_IMPORTED_MODULE_13__),antd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(261),react_lazyload__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(191),react_lazyload__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(react_lazyload__WEBPACK_IMPORTED_MODULE_15__),framer_motion__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(103),_material_ui_core_Fab__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(424),_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(116),_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_18__),_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(426),_material_ui_core_CardActions__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(429),_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(428),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(260),_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(425),_material_ui_icons_NotificationsActive__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(243),_material_ui_icons_NotificationsActive__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(_material_ui_icons_NotificationsActive__WEBPACK_IMPORTED_MODULE_24__),_context_ipProvider__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(47),antd__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(435),antd__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(122),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(6),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__),_excluded=["_id"];function Content(_ref){var data=_ref.data,loading=_ref.loading,TabPane=antd__WEBPACK_IMPORTED_MODULE_14__.a.TabPane,_useContext=Object(react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context_ipProvider__WEBPACK_IMPORTED_MODULE_25__.b),_useContext2=Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useContext,2),ip=_useContext2[0],socket=_useContext2[1],_useState=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)({}),_useState2=Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState,2),quality=_useState2[0],setQuality=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)({}),_useState4=Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState3,2),pricer=_useState4[0],setPrice=_useState4[1],_React$useState=react__WEBPACK_IMPORTED_MODULE_4___default.a.useState(!1),_React$useState2=Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_React$useState,2),visible=_React$useState2[0],setVisible=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_4___default.a.useState(!1),_React$useState4=Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_React$useState3,2),confirmLoading=_React$useState4[0],setConfirmLoading=_React$useState4[1],_useCart=Object(react_use_cart__WEBPACK_IMPORTED_MODULE_11__.b)(),addItem=_useCart.addItem,keys=Object.keys(data),addCart=function(e){addItem(e)},showPopconfirm=function(){setVisible(!0)},handleOk=function(){socket.emit("call-waiter",sessionStorage.getItem("table")),setConfirmLoading(!0),socket.on("coming",(function(e){"none"!==e.responsibleWaiter?(antd__WEBPACK_IMPORTED_MODULE_27__.b.success("\u041e\u0444\u0438\u0446\u0438\u0430\u043d\u0442 \u0438\u0434\u0451\u0442"),setConfirmLoading(!1),setVisible(!1)):setTimeout((function(){antd__WEBPACK_IMPORTED_MODULE_27__.b.error("\u041e\u0444\u0438\u0446\u0438\u0430\u043d\u0442\u044b \u0437\u0430\u043d\u044f\u0442\u044b \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0438\u043b\u0438 \u0441\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0437\u0430\u043a\u0430\u0437",2e3),setConfirmLoading(!1),setVisible(!1)}),6e3)}))},handleCancel=function(){setVisible(!1)},handleChange=function(e,t,_){setPrice(Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},pricer),{},Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)({},_,e.target.value))),setQuality(Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},t),{},Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)({},_,t)))};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(antd__WEBPACK_IMPORTED_MODULE_26__.a,{title:"\u0412\u044b\u0437\u0432\u0430\u0442\u044c \u043e\u0444\u0438\u0446\u0438\u0430\u043d\u0442\u0430?",visible:visible,placement:"leftBottom",onConfirm:handleOk,okButtonProps:{loading:confirmLoading},onCancel:handleCancel,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_core_Fab__WEBPACK_IMPORTED_MODULE_17__.a,{color:"primary",onClick:showPopconfirm,style:{position:"fixed",bottom:"80px",right:"10px ",zIndex:"9999999"},"aria-label":"add",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_icons_NotificationsActive__WEBPACK_IMPORTED_MODULE_24___default.a,{})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_14__.a,{type:"card",unmountInactiveTabs:!0,size:"large",children:[keys&&keys.map((function(key,indx){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(TabPane,{tab:key,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)("div",{className:"h-screen mywrapper",style:{padding:"10px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_12__.a,{container:!0,spacing:2,children:data&&data[key].map((function(_ref3,index){var id=_ref3._id,obj=Object(C_Users_Abdurashid_Desktop_Project_restaurant_project_menu_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref3,_excluded);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_12__.a,{item:!0,xs:6,sm:6,md:4,lg:3,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_23__.a,{in:!0,unmountOnExit:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsxs)(_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_19__.a,{style:{display:34===obj.isAvailable?"none":"block"},className:"min-h-90",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(antd__WEBPACK_IMPORTED_MODULE_7__.a,{width:"100%",height:"8rem",className:"object-cover",src:obj.productImage?"".concat(ip,"/")+obj.productImage:_placeholder_png__WEBPACK_IMPORTED_MODULE_9__.a}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsxs)(_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_21__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)("div",{className:"relative ml-auto ",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_16__.a.button,{whileTap:{scale:.9},className:"pplus absolute -right-2 -top-10  h-10 w-10 bg-red-100",onClick:function onClick(){var temprice=pricer[id]?pricer[id]:"obj.price",price=eval(temprice),qual=quality[id]?quality[id]:"1",tempObj={id:id+"quality"+qual,quality:qual,name:obj.name+" "+qual,price:price,productImage:obj.productImage};addCart(tempObj)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_18___default.a,{fontSize:"medium"})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_22__.a,{gutterBottom:!0,variant:"h6",component:"h3",children:obj.name}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(react_currency_format__WEBPACK_IMPORTED_MODULE_13___default.a,{value:pricer[id]?eval(pricer[id]):obj.price,displayType:"text",suffix:" sum",thousandSeparator:!0,renderText:function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsxs)("p",{className:"secondName",style:{marginTop:"1px"},children:[e," "]})}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_22__.a,{variant:"body2",color:"textSecondary",component:"p",children:obj.description})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_core_CardActions__WEBPACK_IMPORTED_MODULE_20__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_8__.a.Group,{defaultValue:"obj.price",size:"medium",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a.Button,{onClick:function(e){return handleChange(e,"1",id)},disabled:!obj.price,value:"obj.price",children:"1.0"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a.Button,{disabled:!obj.price05,onClick:function(e){return handleChange(e,"0.5",id)},value:"obj.price05",children:"0.5"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a.Button,{disabled:!obj.price07,onClick:function(e){return handleChange(e,"0.7",id)},value:"obj.price07",children:"0.7"})]})})]})})})}))})},indx)})},indx)})),!0===loading&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)("div",{style:{marginTop:"100px",display:"flex",gap:"20px",flexWrap:"wrap"},children:[1,2,3,4,5].map((function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsxs)("div",{style:{width:"200px",marginTop:"10px"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_lab_Skeleton__WEBPACK_IMPORTED_MODULE_6__.a,{height:40,style:{marginBottom:-10,width:"100%"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_lab_Skeleton__WEBPACK_IMPORTED_MODULE_6__.a,{animation:"wave",height:100,style:{marginBottom:-10}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_lab_Skeleton__WEBPACK_IMPORTED_MODULE_6__.a,{style:{marginBottom:10,width:"20%"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_lab_Skeleton__WEBPACK_IMPORTED_MODULE_6__.a,{style:{marginBottom:10,width:"20%"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_lab_Skeleton__WEBPACK_IMPORTED_MODULE_6__.a,{style:{marginBottom:10,width:"20%"}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_28__.jsx)(_material_ui_lab_Skeleton__WEBPACK_IMPORTED_MODULE_6__.a,{animation:"wave",height:20,style:{marginBottom:10,marginTop:-10,width:"70%"}})]})}))})]})]})}__webpack_exports__.a=Content},240:function(e,t,_){"use strict";t.a=_.p+"static/media/placeholder.50838fd7.png"},246:function(e,t,_){"use strict";(function(e){var a=_(22),n=_(0),r=(_(410),_(62)),i=_(103),c=(_(233),_(53)),s=_.n(c),o=_(138),l=_(57),u=_.n(l),d=_(116),j=_.n(d),b=_(122),O=_(169),p=_.n(O),m=_(168),x=_.n(m),E=_(431),h=_(434),P=_(430),D=_(47),f=_(6);t.a=function(t){var _=t.opens,c=t.func,l=Object(n.useContext)(D.b),d=Object(a.a)(l,2),O=d[0],m=d[1],M=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),C=Object(r.b)(),y=C.isEmpty,T=C.cartTotal,A=C.items,g=C.updateItemQuantity,I=C.emptyCart,B=Object(n.useState)(0),U=Object(a.a)(B,2),L=U[0],R=U[1],W=sessionStorage.getItem("table"),w=function(){m.emit("post-order",{table:W,money:T,foods:A,time:(new Date).getHours()+":"+(new Date).getMinutes()}),s()({method:"post",url:"".concat(O,"/status"),data:{date:q,money:T}}),I(),R(0),b.b.success("Buyurtmangiz jonatildi"),window.location.reload()},v={hidden:{opacity:0},show:{opacity:1}},K=window.innerHeight-325+"px",k=new Date,S=k.getMonth()+1,q=k.getDate()+"/"+S+"/"+k.getFullYear();return Object(f.jsx)("div",{children:Object(f.jsx)(h.a,{anchor:"bottom",width:200,open:_,onClose:function(){c(!1)},disableBackdropTransition:!M,disableDiscovery:M,children:Object(f.jsx)(E.a,{maxWidth:"sm",children:Object(f.jsxs)("div",{initial:{x:360},animate:{x:0},transition:{type:"tween",stiffness:50,duration:.5},style:{marginTop:"20px",padding:"10px"},children:[Object(f.jsx)("div",{style:{display:"flex",top:0,right:0},children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"30px",marginLeft:"auto",marginTop:"auto",marginBottom:"5px"},children:["     ",Object(f.jsxs)("h3",{className:"text-2xl",style:{color:"black"},children:[" ","Summa:",Object(f.jsx)(u.a,{value:T,displayType:"text",suffix:" sum",thousandSeparator:!0,renderText:function(e){return Object(f.jsx)("span",{className:"text-2xl",style:{color:"#187CDF"},children:e})}})]}),Object(f.jsx)(i.a.div,{onClick:function(){return R(1600),void setTimeout((function(){I(),window.location.reload(),R(0)}),1e3)},whileTap:{scale:1.1},style:{width:"80px",height:"30px",marginLeft:"auto",marginTop:"auto",marginBottom:"5px"},children:Object(f.jsx)(x.a,{style:{color:"#d60505",width:"100px",height:"35px",marginLeft:"auto",marginBottom:"0px"}})})]})}),Object(f.jsx)(P.a,{style:{height:"2px"},className:"  bg-gray-900"}),Object(f.jsxs)("div",{className:"mywrapperr",style:{maxHeight:K,marginBottom:"70px"},children:[Object(f.jsx)("div",{className:"main",children:A.map((function(e){return Object(f.jsx)("div",{className:"itemMain",children:Object(f.jsx)(i.a.div,{variants:v,transition:{duration:.5},initial:{x:460},animate:{x:L},className:"productts",children:Object(f.jsxs)(o.a,{container:!0,spacing:1,children:[Object(f.jsx)(o.a,{item:!0,xs:8,children:Object(f.jsxs)("div",{className:"-mt-3",children:[Object(f.jsx)("p",{className:"firstName",children:e.name}),Object(f.jsx)(u.a,{value:e.price*e.quantity,displayType:"text",suffix:" sum",thousandSeparator:!0,renderText:function(e){return Object(f.jsxs)(i.a.p,{className:"secondName",children:[" ",e," "]})}})]})}),Object(f.jsx)(o.a,{item:!0,xs:4,children:Object(f.jsxs)("div",{className:"gap-2 flex absolute float-left flex-row flex-wrap flex-none w-full mr-auto",children:[Object(f.jsx)("span",{className:"mb-auto",children:Object(f.jsx)(i.a.button,{className:"pplus  h-8 w-8 ",onClick:function(){return g(e.id,e.quantity+1)},children:Object(f.jsx)(j.a,{})})}),Object(f.jsx)("span",{className:"text-lg    -mt-1",children:Object(f.jsx)("p",{children:e.quantity})}),Object(f.jsx)("span",{className:"  mb-auto",children:Object(f.jsx)(i.a.button,{className:"pplus  h-8 w-8",whileTap:{scale:.8},onClick:function(){return g(e.id,e.quantity-1)},children:Object(f.jsx)(p.a,{})})})]})})]})})},e.id)}))}),Object(f.jsx)("div",{className:"ml-20",children:Object(f.jsxs)(i.a.button,{whileTap:{scale:1.1},className:"pl fixed w-full center  m-auto",onClick:function(){!1===y&&("null"!==W?(R(1600),setTimeout((function(){w()}),1e3)):b.b.error("QR CODNI QAYTA SKANER QILING!"))},children:["Jonatish"," "]})})]})]})})})})}}).call(this,_(140))},277:function(e,t,_){},297:function(e,t,_){},411:function(e,t,_){},422:function(e,t,_){"use strict";_.r(t);var a=_(0),n=_.n(a),r=_(20),i=_.n(r),c=(_(277),_(82)),s=_(30),o=_(39),l=_.n(o),u=_(73),d=_(22),j=_(53),b=_.n(j),O=_(88),p=_(239),m=_(138),x=_(62),E=_(103),h=_(430),P=(_(233),_(57)),D=_.n(P),f=_(116),M=_.n(f),C=_(44),y=_(169),T=_.n(y),A=_(168),g=_.n(A),I=_(475),B=_(245),U=_.n(B),L=_(122),R=_(47),W=_(6);var w=function(){var e=Object(a.useContext)(R.b),t=Object(d.a)(e,2),_=(t[0],t[1]),n=sessionStorage.getItem("table"),r=Object(x.b)(),i=r.isEmpty,s=r.cartTotal,o=r.items,l=r.updateItemQuantity,u=r.emptyCart,j=(r.addItem,Object(a.useState)(0)),b=Object(d.a)(j,2),O=b[0],p=b[1],P=Object(a.useState)(!1),f=Object(d.a)(P,2),y=f[0],A=f[1],B={hidden:{opacity:0},show:{opacity:1}},w=window.innerHeight-205+"px";return Object(W.jsxs)("div",{style:{marginTop:"6px"},children:[Object(W.jsxs)("div",{className:"mywrapperr h-screen z-0",children:[Object(W.jsxs)("div",{style:{display:"flex"},children:[Object(W.jsx)("p",{style:{fontSize:"22px",marginBottom:"0px",margin:"0px auto"},children:"\u0427\u0435\u043a:"}),Object(W.jsx)(c.b,{to:"/check",children:Object(W.jsx)(C.a,{type:"dashed",shape:"",icon:Object(W.jsx)(U.a,{})})}),Object(W.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"80px",height:"30px",marginLeft:"auto",marginTop:"auto",marginBottom:"5px"}}),Object(W.jsx)(E.a.div,{onClick:function(){return p(1600),void setTimeout((function(){u(),p(0)}),1e3)},whileTap:{scale:.8},style:{fontSize:"14px",width:"80px",height:"30px",marginLeft:"auto",marginTop:"auto",marginBottom:"5px"},children:Object(W.jsx)(g.a,{style:{color:"#d60505",fontSize:"14px",width:"100px",height:"40px",marginLeft:"auto",marginBottom:"0px"}})})]}),Object(W.jsx)(h.a,{style:{background:"blue"}}),Object(W.jsx)("div",{className:"main ",style:{height:w},children:o.map((function(e){return Object(W.jsx)("div",{className:"itemMain",children:Object(W.jsx)(E.a.div,{variants:B,transition:{duration:.5},initial:{x:460},animate:{x:O},className:"productts",children:Object(W.jsxs)(m.a,{container:!0,spacing:0,children:[Object(W.jsx)(m.a,{item:!0,xs:6,children:Object(W.jsxs)("div",{children:[Object(W.jsx)("p",{className:"firstName",children:e.name}),Object(W.jsx)(D.a,{value:e.price*e.quantity,displayType:"text",suffix:" sum",thousandSeparator:!0,renderText:function(e){return Object(W.jsxs)(E.a.p,{className:"secondName",children:[" ",e," "]})}})]})}),Object(W.jsx)(m.a,{item:!0,xs:6,children:Object(W.jsxs)("div",{className:"gap-2 flex flex-row flex-wrap flex-none w-full mr-auto",children:[Object(W.jsx)("span",{className:"mb-auto",children:Object(W.jsx)(E.a.button,{className:"pplus  h-8 w-8 ",onClick:function(){return l(e.id,e.quantity+1)},children:Object(W.jsx)(M.a,{})})}),Object(W.jsx)("span",{className:"text-lg    -mt-1",children:Object(W.jsx)("p",{children:e.quantity})}),Object(W.jsx)("span",{className:"  mb-auto",children:Object(W.jsx)(E.a.button,{className:"pplus  h-8 w-8",whileTap:{scale:.8},onClick:function(){return l(e.id,e.quantity-1)},children:Object(W.jsx)(T.a,{})})})]})})]})})},e.id)}))}),Object(W.jsxs)("div",{className:"p",children:[Object(W.jsx)("div",{className:"p",children:Object(W.jsxs)("h3",{style:{color:"black",fontSize:"24px",margin:"auto"},children:[" ","\u0412\u0441\u0435\u0433\u043e:",Object(W.jsx)(D.a,{value:s,displayType:"text",suffix:" sum",thousandSeparator:!0,renderText:function(e){return Object(W.jsx)("span",{style:{color:"#187CDF",fontSize:"22px"},children:e})}})]})}),Object(W.jsx)(E.a.button,{className:"pl  center m-auto w-8/12",onClick:function(){A(!0)},whileTap:{scale:.9},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]}),Object(W.jsx)(I.a,{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f?",onOk:function(){!1===i&&("null"!==n?(p(1600),setTimeout((function(){_.emit("post-order",{table:n,money:s,foods:o,time:(new Date).getHours()+":"+(new Date).getMinutes()}),u(),p(0),A(!1)}),1e3)):L.b.error("\u041f\u0415\u0420\u0415\u0421\u041a\u0410\u041d\u0418\u0420\u0423\u0419\u0422\u0415 QR \u041a\u041e\u0414 "))},onCancel:function(){return A(!1)},okText:"Ha",cancelText:"Yoq",visible:y,height:100,children:Object(W.jsx)("p",{children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c?"})})]})},v=_(121),K=_(246),k=_(469),S=_(21),q=_(471),N=_(472),z=_(248),F=_.n(z),$=_(170),Q=_.n($),V=_(247),G=_.n(V),H=_(470),J=_(191),Y=_.n(J),Z=(_(411),Object(k.a)({stickToBottom:{zIndex:"2",width:"100%",position:"fixed",marginTop:"10px",borderTop:"1px solid gray",bottom:0},root:{width:500}})),X=Object(S.a)((function(e){return{badge:{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(H.a);var ee=function(){var e=Object(a.useContext)(R.b),t=Object(d.a)(e,2),_=t[0],n=t[1],r=Z(),i=Object(s.g)(),c=Object(x.b)().totalItems,o=Object(a.useState)(!1),j=Object(d.a)(o,2),E=j[0],h=j[1],P=Object(a.useState)(!1),D=Object(d.a)(P,2),f=D[0],M=D[1],C=Object(a.useState)(!1),y=Object(d.a)(C,2),T=y[0],A=y[1],g=Object(a.useState)(0),I=Object(d.a)(g,2),B=I[0],U=I[1],L=Object(a.useState)(!1),k=Object(d.a)(L,2),S=k[0],z=k[1],$=Object(a.useState)(c),V=Object(d.a)($,2),H=V[0],J=V[1],ee=Object(a.useState)(""),te=Object(d.a)(ee,2),_e=te[0],ae=te[1];if(console.log(_e),Object(a.useEffect)((function(){A(!0);var e=new URLSearchParams(window.location.search).get("table");sessionStorage.setItem("table",e),setTimeout((function(){Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.get("".concat(_,"/data")).then((function(e){h(e.data),A(!1)})).catch((function(){M(!0)}));case 1:case"end":return e.stop()}}),e)})))()}),1e3)}),[]),!0===f)return Object(W.jsx)(O.a,{description:"Server is not working please refresh page or contact administrator",style:{marginTop:"200px"}});var ne=function(){J(H+1),ae("animated"),setTimeout((function(){ae("")}),2500)};return Object(W.jsx)("div",{children:Object(W.jsxs)(x.a,{onItemAdd:ne,onItemUpdate:ne,onItemRemove:function(){return J(H-1)},children:[Object(W.jsx)(v.MobileView,{children:Object(W.jsx)(K.a,{opens:S,func:z})}),Object(W.jsxs)(m.a,{container:!0,spacing:1,children:[Object(W.jsx)(m.a,{item:!0,xs:12,md:8,lg:9,sm:12,children:Object(W.jsx)(Y.a,{once:!0,children:Object(W.jsx)(p.a,{loading:T,ip:_,data:E})})}),Object(W.jsx)(m.a,{item:!0,xs:12,md:4,lg:3,sm:12,children:v.isMobileOnly?null:Object(W.jsx)(w,{})})]}),v.isMobileOnly?Object(W.jsxs)(q.a,{ip:_,socket:n,value:B,onChange:function(e,t){U(t)},showLabels:!0,className:r.stickToBottom,children:[Object(W.jsx)(N.a,{label:"Asosiy",icon:Object(W.jsx)(Q.a,{})}),Object(W.jsx)(N.a,{onClick:function(){return z(!0)},label:"Savatcha",icon:Object(W.jsx)(X,{showZero:!0,badgeContent:H,color:"secondary",children:Object(W.jsx)(G.a,{className:_e})})}),Object(W.jsx)(N.a,{onClick:function(){return i.push("/check")},label:"Buyurtmalar",icon:Object(W.jsx)(F.a,{})})]}):null]})})},te=_(431),_e=_(474),ae=_(473),ne=_(249),re=_.n(ne),ie=Object(k.a)({stickToBottom:{zIndex:"2",width:"100%",position:"fixed",bottom:0},root:{width:500}});var ce=function(){var e=Object(a.useContext)(R.b),t=Object(d.a)(e,2),_=t[0],n=t[1],r=Object(s.g)(),i=ie(),o=sessionStorage.getItem("table"),j=Object(a.useState)([]),O=Object(d.a)(j,2),p=O[0],m=O[1],x=Object(a.useState)([]),h=Object(d.a)(x,2),P=h[0],f=h[1],M=Object(a.useState)([!1]),C=Object(d.a)(M,2),y=C[0],T=C[1],A=Object(a.useState)(parseInt(o)),g=Object(d.a)(A,2),I=g[0],B=g[1],U=Object(a.useState)(),L=Object(d.a)(U,2),w=L[0],K=L[1];Object(a.useEffect)((function(){n.on("recieve-order",(function(e){Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(_,"/orders"));case 2:t=e.sent,a=t.data,f(a);case 5:case"end":return e.stop()}}),e)})))()})),Object(u.a)(l.a.mark((function e(){var t,a,n,r,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(_,"/orders"));case 2:return t=e.sent,a=t.data,e.next=6,b.a.get("".concat(_,"/service"));case 6:n=e.sent,r=n.data,m(r),f(a),a&&(i={},c=a.filter((function(e){return e.table===I})).reduce((function(e,t){return e.table=t.table,e.foods=[],e.id=t._id,e.money?e.money=e.money+t.money:e.money=t.money,t.foods.forEach((function(e){i[e.name]?(i[e.name].q=i[e.name].q+e.quantity,i[e.name].price=i[e.name].price+e.price,i[e.name].allpPrice=i[e.name].allpPrice+e.price*e.quantity):i[e.name]={q:e.quantity,price:e.price,allPrice:e.price*e.quantity}})),e}),{}),i=Object.entries(i).map((function(e){var t=Object(d.a)(e,2),_=t[0],a=t[1];return{name:_,quantity:a.q,price:a.price,allprice:a.allPrice}})),c.foods=i,T([c]));case 11:case"end":return e.stop()}}),e)})))()}),[]);var k=[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",dataIndex:"name",key:"name",render:function(e){return Object(W.jsx)("p",{children:e})}},{title:"\u0426\u0435\u043d\u0430",dataIndex:"price",key:"price",render:function(e){return Object(W.jsxs)("p",{children:[" ",Object(W.jsx)(D.a,{value:e,displayType:"text",suffix:" sum",thousandSeparator:!0,renderText:function(e){return Object(W.jsxs)("p",{className:"",children:[e," "]})}})]})}},{title:"\u041a\u043e\u043b-\u0432\u043e",dataIndex:"quantity",key:"quantity"},{title:"\u0421\u0443\u043c\u043c\u0430",dataIndex:"allprice",key:"allPrice",render:function(e){return Object(W.jsxs)("p",{children:[" ",Object(W.jsx)(D.a,{value:e,displayType:"text",suffix:" sum",thousandSeparator:!0,renderText:function(e){return Object(W.jsxs)("p",{style:{color:"#187CDF",fontWeight:"bold"},children:[e," "]})}})]})}}];return Object(W.jsxs)("div",{children:[Object(W.jsx)(te.a,{maxWidth:"sm",children:Object(W.jsxs)(E.a.div,{className:"cheklist",initial:{y:-900},animate:{y:0},transition:{duration:.5},children:[Object(W.jsxs)(c.b,{to:"/",children:[Object(W.jsx)(E.a.button,{whileTap:{scale:1.1},className:"filterButton",style:{marginLeft:"-140px",height:"35px",transform:"none",texAlign:"center"},children:Object(W.jsx)(re.a,{})}),"          "]}),Object(W.jsxs)("div",{style:{marginBottom:"20px",width:"100%",display:"flex"},children:[Object(W.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Object(W.jsx)("p",{style:{fontSize:"16px"},children:"Stol raqami: "}),Object(W.jsx)(_e.a,{placeholder:o,defaultValue:o,type:"number",size:"small",style:{height:"25px",width:"50px"},min:"0",max:"500  ",onChange:function(e){return B(parseInt(e))}})]}),Object(W.jsx)(E.a.button,{whileTap:{scale:1.1},className:"filterButton",onClick:function(){!function(){var e={},t=P.filter((function(e){return e.table===I})).reduce((function(t,_){return t.table=_.table,t.foods=[],t.id=_._id,t.money?t.money=t.money+_.money:t.money=_.money,_.foods.forEach((function(t){e[t.name]?(e[t.name].q=e[t.name].q+t.quantity,e[t.name].id=e[t.name].id+t.quantity,e[t.name].price=e[t.name].price+t.price,e[t.name].allpPrice=e[t.name].allpPrice+t.price*t.quantity):e[t.name]={q:t.quantity,id:t._id,price:t.price,allPrice:t.price*t.quantity}})),t}),{});e=Object.entries(e).map((function(e){var t=Object(d.a)(e,2),_=t[0],a=t[1];return{name:_,quantity:a.q,price:a.price,allprice:a.allPrice,id:a.id}})),t.foods=e,T([t])}()},children:"\u041f\u043e\u0438\u0441\u043a"})]}),y.map((function(e,t){return Object(W.jsxs)("div",{children:[Object(W.jsx)(E.a.div,{initial:{x:0},children:Object(W.jsx)(ae.a,{size:"middle",columns:k,dataSource:e.foods})}),Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[Object(W.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[" ",Object(W.jsx)(D.a,{value:e.money,displayType:"text",suffix:" sum",thousandSeparator:!0,renderText:function(e){return Object(W.jsxs)("p",{style:{fontSize:"19px"},children:["\u0412\u0441\u0435\u0433\u043e: "," ",Object(W.jsx)("span",{style:{fontWeight:"bold",color:"#187CDF"},children:e})]})}}),Object(W.jsxs)("p",{style:{fontSize:"19px"},children:["\u0423\u0441\u043b\u0443\u0433\u0430: ","",Object(W.jsxs)("span",{style:{fontWeight:"bold",color:"#187CDF"},children:[p,"%"]})]})]}),Object(W.jsxs)("div",{children:[" ",Object(W.jsxs)("p",{style:{fontSize:"22px"},children:["\u0421 \u0443\u0441\u043b\u043e\u0433\u043e\u0439: ","",Object(W.jsx)(D.a,{value:Math.trunc(e.money+e.money/100*p),displayType:"text",suffix:" sum",thousandSeparator:!0,renderText:function(e){return Object(W.jsx)("span",{style:{fontWeight:"bold",color:"#FF3131"},children:e})}})]})]})]})]})}))]})}),v.isMobile?Object(W.jsx)(q.a,{value:w,onChange:function(e,t){K(t)},showLabels:!0,className:i.stickToBottom,children:Object(W.jsx)(N.a,{label:"Asosiy",onClick:function(){return r.push("/")},icon:Object(W.jsx)(Q.a,{})})}):null]})},se=_(199),oe=_(235),le=Object(a.lazy)((function(){return Promise.all([_.e(5),_.e(6)]).then(_.bind(null,483))})),ue=Object(a.lazy)((function(){return _.e(3).then(_.bind(null,486))})),de=Object(a.lazy)((function(){return _.e(4).then(_.bind(null,487))}));function je(){return Object(W.jsx)(c.a,{children:Object(W.jsx)(s.d,{children:Object(W.jsxs)(R.a,{children:[Object(W.jsx)(s.b,{path:"/check",component:ce}),Object(W.jsx)(s.b,{exact:!0,path:"/",component:ee}),Object(W.jsx)(se.a,{children:Object(W.jsxs)(a.Suspense,{fallback:Object(W.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:[Object(W.jsx)(oe.Notifications,{}),Object(W.jsx)(s.b,{path:"/login",component:le}),Object(W.jsx)(s.b,{path:"/admin",component:de}),Object(W.jsx)(s.b,{exact:!0,path:"/waiter",component:ue})," "]})})]})})})}var be=function(){return Object(W.jsx)("div",{className:"App",children:Object(W.jsx)(x.a,{children:Object(W.jsx)(je,{})})})};i.a.render(Object(W.jsx)(n.a.StrictMode,{children:Object(W.jsx)(be,{})}),document.getElementById("root"))},47:function(e,t,_){"use strict";_.d(t,"b",(function(){return s})),_.d(t,"a",(function(){return o}));var a=_(0),n=_(241),r=_(6),i="http://localhost:4000",c=Object(n.io)(i),s=Object(a.createContext)();function o(e){var t=e.children;return Object(r.jsx)(s.Provider,{value:[i,c],children:t})}}},[[422,1,2]]]);
//# sourceMappingURL=main.d8def7b0.chunk.js.map